<!DOCTYPE html>
<html>
  <head>
    <title>Designing the side-effects of data persistence :: Joe Corcoran</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="Joe Corcoran">
<script type="text/javascript" src="//use.typekit.net/lbi3uvk.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<link rel="stylesheet" href="/public/fa.min.css">

<link rel="stylesheet" href="/public/main.min.css" type="text/css" />
<link rel="alternate" type="application/atom+xml" href="/articles.xml" />
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3245696-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>
    <header role="banner" class="banner">
  <div class="banner-content">
    <nav>
      <ul>
        <li><a href="/articles" class="active">Articles</a></li>
        <li><a href="/projects" >Projects</a></li>
      </ul>
    </nav>
    <a class="name" href="/" >Joe Corcoran</a>
  </div>
</header>

    <article class="post">
      <header>
        <h1>Designing the side-effects of data persistence</h1>
        <time datetime="2015-03-18T00:00:00+01:00">18 March 2015</time>
        

  <ul class="tags">
    
      <li>
        <a href="/tags/ruby">ruby</a>
      </li>
    
      <li>
        <a href="/tags/rails">rails</a>
      </li>
    
      <li>
        <a href="/tags/design+patterns">design patterns</a>
      </li>
    
  </ul>


      </header>
      <p>Data persistence in a web application often comes with side-effects. So
<code>create</code>, <code>update</code> and their kind are often accompanied by code which needs to
run right away, but is only tangentially related to the current context.</p>

<p>This article explores some design possibilities for the code which causes
side-effects within a typical Rails application.</p>

<h2>Controllers gonna control</h2>

<p>Consider the following controller actions for creating and destroying photos.
The controller actions also send emails, send mobile device push
notifications and update the application search index. Although the real work
will be done asynchronously (in this case via <a href="http://sidekiq.org">Sidekiq</a>), the
controller kicks everything off.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PhotosController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">photo_params</span><span class="p">)</span>
    <span class="no">UserMailer</span><span class="o">.</span><span class="n">new_photo</span><span class="p">(</span><span class="vi">@photo</span><span class="p">)</span><span class="o">.</span><span class="n">deliver_later</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="vi">@photo</span><span class="p">)</span>
    <span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="vi">@photo</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="vi">@photo</span><span class="o">.</span><span class="n">destroy</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Remove</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="vi">@photo</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h2>Carly Rae Jepsen pun goes here</h2>

<p>A common approach in Rails applications is to use
<a href="http://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html"><code>ActiveRecord</code> callbacks</a>, which trigger side-effects whenever
model instances change. Moving the side-effects into callbacks, the above
example would look as follows.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PhotosController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">photo_params</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="vi">@photo</span><span class="o">.</span><span class="n">destroy</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">Photo</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_create</span> <span class="ss">:create_mail</span><span class="p">,</span> <span class="ss">:create_search</span><span class="p">,</span> <span class="ss">:create_push</span>
  <span class="n">after_destroy</span> <span class="ss">:destroy_search</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">create_mail</span>
    <span class="no">UserMailer</span><span class="o">.</span><span class="n">new_photo</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="o">.</span><span class="n">deliver_later</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create_search</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">create_push</span>
    <span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy_search</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Remove</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Both of the above scenarios bring problems. The first, with the cluttered
controller actions, burdens the controller with too much knowledge of other
classes and their behaviour. &ldquo;Too much knowledge&rdquo; being a short way
of saying that a class has <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle">too many responsibilities</a>.</p>

<p>The callback approach, while good for the controller, simply moves the problem
into the model. It can also be too blunt an instrument &#8212; consider that
photos might be created from multiple places in our application &#8212; we may
not really want to trigger all of the side-effects on every <code>create</code>.
<code>ActiveRecord</code> callbacks can be triggered conditionally, but in practice this
only increases code complexity.</p>

<p>The issue of bloated responsibilities is often highlighted through unit tests.
When a unit test contains numerous assertions about side-effects rather than
the main purpose of the class, it&rsquo;s tempting to just turn to mocks. Your
mileage may vary, but more than a few lines of mocking or stubbing can be
a sign that our design isn&rsquo;t quite right.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">describe</span> <span class="no">PhotosController</span> <span class="k">do</span>
  <span class="n">describe</span> <span class="s1">&#39;POST :create&#39;</span> <span class="k">do</span>
    <span class="n">before</span> <span class="k">do</span>
      <span class="n">allow</span><span class="p">(</span><span class="no">UserMailer</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:new_photo</span><span class="p">)</span> <span class="p">{</span> <span class="n">double</span><span class="p">(</span><span class="ss">deliver_later</span><span class="p">:</span> <span class="kp">true</span><span class="p">)</span> <span class="p">}</span>
      <span class="n">allow</span><span class="p">(</span><span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:perform_async</span><span class="p">)</span>
      <span class="n">allow</span><span class="p">(</span><span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">receive</span><span class="p">(</span><span class="ss">:perform_async</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<h2>Service please</h2>

<p>One way of shifting the work is to use <a href="https://blog.engineyard.com/2014/keeping-your-rails-controllers-dry-with-services">service classes</a>. We would
commit to no longer using <code>create</code> and <code>destroy</code> directly, but instead use
create- and destroy-service classes which take on two responsibilities:</p>

<ol>
<li>To touch the record</li>
<li>To carry out all side-effects associated with touching the record</li>
</ol>

<p>In the following example, a service class has strictly one class method.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PhotosController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="no">CreatePhoto</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">current_user</span><span class="p">,</span> <span class="n">photo_params</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="no">DestroyPhoto</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="vi">@photo</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">CreatePhoto</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">attrs</span> <span class="o">=</span> <span class="p">{})</span>
    <span class="n">photo</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span>
    <span class="no">UserMailer</span><span class="o">.</span><span class="n">new_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span><span class="o">.</span><span class="n">deliver_later</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="n">photo</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">DestroyPhoto</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="n">photo</span><span class="o">.</span><span class="n">destroy</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Remove</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>We have moved the side-effects into a separate place, which reduces the
resposibilities of the controller class. We can also reuse the service class
whenever we want the same side-effects, maybe adding extra service classes for
varying scenarios.</p>

<h2>Pub, Sub</h2>

<p>A different approach is to use the <a href="http://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern">publish-subscribe pattern</a>. If we
publish a message at the point of record creation/update, then any interested
subscriber can act whenever the message is published. In the following example,
we imagine a <code>publish</code> method which sends messages to all subscribers that
are able to respond.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PhotosController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">photo_params</span><span class="p">)</span>
    <span class="n">publish</span><span class="p">(</span><span class="ss">:create_photo</span><span class="p">,</span> <span class="vi">@photo</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="vi">@photo</span><span class="o">.</span><span class="n">destroy</span>
    <span class="n">publish</span><span class="p">(</span><span class="ss">:destroy_photo</span><span class="p">,</span> <span class="vi">@photo</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">MailSubscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="no">UserMailer</span><span class="o">.</span><span class="n">new_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span><span class="o">.</span><span class="n">deliver_later</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SearchSubscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Remove</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PushSubscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
    <span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">photo</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>The main difference between the service classes and the subscribers is
where we drew the boundaries. The service classes are themed by the type of
action being performed. This allows us to pick up the code that causes
side-effects and drop it all into one place. Whereas service classes remove the
problems introduced by callbacks, they really only move the complexity into a
new place. The <code>CreatePhoto</code> service retains knowledge of three other classes
and their interfaces.</p>

<p>The subscribers are themed by the type of side-effect for which they are
responsible, which further reduces the spread of domain knowledge. In our
example the controller actions simply publish messages and move on. The
subscribers wait for those messages, or not, as the case may be.</p>

<p>It is worth noting that the same pattern can be achieved through
<code>ActiveSupport</code>, with the <a href="http://api.rubyonrails.org/classes/ActiveSupport/Notifications.html"><code>Notifications</code> module</a> publishing
events and <a href="http://api.rubyonrails.org/classes/ActiveSupport/Subscriber.html"><code>Subscriber</code> classes</a> consuming those events
by being attached to an event namespace. However the <code>ActiveSupport</code>
implementation is better suited to instrumentation &#8212; it is most commonly
used for logging and timing.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PhotosController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="kp">include</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">Notifications</span>

  <span class="k">def</span> <span class="nf">create</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">photo_params</span><span class="p">)</span>
    <span class="n">instrument</span><span class="p">(</span><span class="s1">&#39;create_photo.photo_app&#39;</span><span class="p">,</span> <span class="ss">photo</span><span class="p">:</span> <span class="vi">@photo</span><span class="p">)</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy</span>
    <span class="vi">@photo</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">photos</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="vi">@photo</span><span class="o">.</span><span class="n">destroy</span>
    <span class="n">instrument</span><span class="p">(</span><span class="s1">&#39;destroy_photo.photo_app&#39;</span><span class="p">,</span> <span class="ss">photo</span><span class="p">:</span> <span class="vi">@photo</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">MailSubscriber</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">Subscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="no">UserMailer</span><span class="o">.</span><span class="n">new_photo</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">[</span><span class="ss">:photo</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">deliver_later</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">MailSubscriber</span><span class="o">.</span><span class="n">attach_to</span> <span class="ss">:photo_app</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SearchSubscriber</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">Subscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Index</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">[</span><span class="ss">:photo</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">destroy_photo</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="no">SearchWorker</span><span class="o">::</span><span class="no">Remove</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">[</span><span class="ss">:photo</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">SearchSubscriber</span><span class="o">.</span><span class="n">attach_to</span> <span class="ss">:photo_app</span>
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">PushSubscriber</span> <span class="o">&lt;</span> <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">Subscriber</span>
  <span class="k">def</span> <span class="nf">create_photo</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="no">PushWorker</span><span class="o">::</span><span class="no">NewPhoto</span><span class="o">.</span><span class="n">perform_async</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">payload</span><span class="o">[</span><span class="ss">:photo</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
<span class="no">PushSubscriber</span><span class="o">.</span><span class="n">attach_to</span> <span class="ss">:photo_app</span>
</code></pre></div>
<p><em>With thanks to <a href="http://urbanautomaton.com">Simon Coffey</a> for
<a href="http://techblog.tribesports.com/blog/2012/08/21/pub-sub-system-events-for-post-action-tasks">introducing me to the pub-sub idea</a> a few years ago.</em></p>

    </article>
    <footer class="footer">
  <div class="footer-content">
    <ul>
      <li>
        <a href="mailto:joe@corcoran.io"><i class="fa fa-envelope"></i></a>
      </li>
      <li>
        <a href="http://twitter.com/josephcorcoran"><i class="fa fa-twitter"></i></a>
      </li>
      <li>
        <a href="/articles.xml"><i class="fa fa-rss"></i></a>
      </li>
  </div>
</footer>

  </body>
</html>
